<!DOCTYPE html><html><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>Camera Test</title>
<script src="https://aframe.io/releases/1.4.1/aframe.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/aframe-ar.js@3.3.2/aframe-ar.min.js"></script>
<style>
  html,body{height:100%;margin:0;overflow:hidden;background:#000;}
  a-scene{position:fixed;inset:0}
  .msg{position:fixed;left:10px;top:10px;padding:6px 8px;background:rgba(0,0,0,.5);color:#fff;border-radius:6px;font:14px -apple-system,BlinkMacSystemFont}
</style>
</head><body>
<div class="msg" id="m">starting camera…</div>
<a-scene embedded renderer="alpha:true;antialias:true"
        arjs="sourceType: webcam; videoTexture:true; facingMode: environment; debugUIEnabled:false">
  <a-camera></a-camera>
</a-scene>
<script>
  // 3秒でカメラ動画要素が無ければ警告
  setTimeout(()=>{
    const v=document.querySelector('#arjs-video');
    const m=document.getElementById('m');
    if(!v || !v.srcObject){ m.textContent='カメラ未起動：サイトのカメラ権限を許可してください'; }
    else { m.textContent='カメラ起動中'; }
  },3000);
</script>
</body></html>
